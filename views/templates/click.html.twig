{% extends "layout.html.twig" %}

{# Titre de la page #}
{% block title %}
         | Page Activités
{% endblock %}

{% block body %}

        {% block header %}
            {{ parent() }}
        {% endblock %}

        
    
    {% block content %}
    
    {% block error %}
    {% endblock %}
    
{% endblock %}

{% block content %}
    <section id="click-souris">
        <div class="game-info">
            <h1>Chasse à la Souris !</h1>

            {# Consigne de jeu pour l'enfant #}
            <p class="game-instructions">
                Choisis la difficulté ! Attrape la <span style="color: red;">souris</span> vite !
            </p>

            {# Affichage des meilleurs scores par niveau #}
            <div class="best-scores">
                <div class="best-score-item">
                    Facile (❤️) : <span data-level="facile" id="best-score-facile">{{ userBestScores.facile }}</span>
                </div>
                <div class="best-score-item">
                    Inter. (❤️❤️) : <span data-level="intermediaire" id="best-score-intermediaire">{{ userBestScores.intermediaire }}</span>
                </div>
                <div class="best-score-item">
                    Diff. (❤️❤️❤️) : <span data-level="difficile" id="best-score-difficile">{{ userBestScores.difficile }}</span>
                </div>
            </div>

            <p>Score actuel : <span id="score">0</span></p>
            <p>Temps restant : <span id="time">60</span> secondes</p>
           
            {# Boutons de sélection du niveau #}
            <div class="game-controls">
                <button data-difficulty="facile">Niveau Facile</button>
                <button data-difficulty="intermediaire">Niveau Intermédiaire</button>
                <button data-difficulty="difficile">Niveau Difficile</button>
            </div>
           
            <p id="result-message"></p>
        </div>

        <div id="game-container">
            <div id="mouse">
                <img src="{{ asset('assets/img/games/clickSouris/SourisMarron.svg') }}" alt="Souris">
            </div>
            <div id="chat-cursor">
                <img src="{{ asset('assets/img/games/click/chatGriffes.svg') }}" alt="Chat">
            </div>
        </div>
    </section>
    {# Les styles seront ensuite transférés dans clickSouris.scss #}
    <style>
        /* ========================================= */
        /* Styles Généraux (Mobile First)            */
        /* ========================================= */
        body {
            /* Gardez ce bloc minimal pour le SCSS global */
            background-color: #DDA0DD;
            font-family: Arial, sans-serif;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        /* Conteneur principal du jeu (section #click-souris) */
        #click-souris {
            background-color: white;
            padding: 10px;
            margin: 10px auto;
            width: calc(100% - 20px);
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            overflow-y: auto;
            box-sizing: border-box;
        }

        .game-info {
            text-align: center;
            margin-top: 10px;
        }

        .game-info h1 {
            color: black;
            font-size: 1.8em;
        }
       
        /* Styles pour les meilleurs scores */
        .best-scores {
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 15px; /* Espace entre les niveaux */
        }
       
        .best-score-item {
            font-size: 0.9em;
            color: white;
            background-color: #6A5ACD;
            padding: 5px 10px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
       
        .best-score-item span {
            font-weight: bold;
        }
       
        /* Styles de la consigne et des contrôles */
        .game-instructions { /* ... (styles similaires à avant) ... */ }
        .game-controls { /* ... (styles similaires à avant) ... */
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
       
        .game-controls button {
            padding: 8px 15px;
            font-size: 1em;
            cursor: pointer;
            border: 2px solid #4CAF50;
            background-color: white;
            color: #4CAF50;
            border-radius: 5px;
            transition: background-color 0.2s, color 0.2s;
        }
        .game-controls button:hover, .game-controls button.active {
            background-color: #4CAF50;
            color: white;
        }
        .game-controls button:disabled {
            background-color: #ccc;
            border-color: #ccc;
            color: #666;
            cursor: not-allowed;
        }

        /* Conteneur du jeu (la surface où la souris apparaît) */
        #game-container {
            position: relative;
            width: 95vw;
            height: calc(95vw * 0.75);
            max-width: 800px;
            max-height: 600px;
            border: 2px solid #333;
            background-color: #f0f0f0;
            overflow: hidden;
            cursor: none;
            margin: 15px auto;
            box-sizing: border-box;
        }
       
        /* Styles du chat et de la souris (identiques à avant) */
        #mouse { position: absolute; width: 50px; height: 50px; display: none; }
        #mouse img { width: 100%; height: 100%; }
        #chat-cursor { position: absolute; width: 80px; height: 80px; z-index: 1000; transform: translate(-50%, -50%); display: none; }
        #chat-cursor img { width: 100%; height: 100%; }

        /* Media Queries pour le centrage (identiques à avant) */
        @media (min-width: 768px) {
            #click-souris { margin: auto; max-width: 840px; }
            #game-container { width: 800px; height: 600px; }
        }
    </style>
{% endblock %}
{% endblock %}